<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.42">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>10&nbsp; Uncertainty – Data Science for Political Science</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./11-TextasData.html" rel="next">
<link href="./09-Fairness.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-2f5df379a58b258e96c21c0638c20c03.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-9becf3fbc736aa3d8123452166bd44f5.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body class="nav-sidebar docked">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./10-Uncertainty.html"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Uncertainty</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Data Science for Political Science</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Course Notes</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introduction</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./02-Description.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Description</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./03-CausalityI.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Causation with Experiments</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./04-Visualization.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Visualization</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./05-Causalityii.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Causality with Non-Experimental Data</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./06-Loops.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Loops in R</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./07-Prediction.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Prediction</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./08-Regression.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Prediction with Regression</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./09-Fairness.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Fairness and Ethics</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./10-Uncertainty.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Uncertainty</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./11-TextasData.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Text as Data</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./12-Maps.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Mapping</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./13-ChooseYourOwnAdventure.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Choose Your Own Adventure</span></span></a>
  </div>
</li>
    </ul>
    </div>
    <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Section Contents</h2>
   
  <ul>
  <li><a href="#hypothesis-testing-overview-of-process" id="toc-hypothesis-testing-overview-of-process" class="nav-link active" data-scroll-target="#hypothesis-testing-overview-of-process"><span class="header-section-number">10.1</span> Hypothesis Testing Overview of Process</a></li>
  <li><a href="#sampling-and-uncertainty" id="toc-sampling-and-uncertainty" class="nav-link" data-scroll-target="#sampling-and-uncertainty"><span class="header-section-number">10.2</span> Sampling and Uncertainty</a>
  <ul>
  <li><a href="#sampling-distribution" id="toc-sampling-distribution" class="nav-link" data-scroll-target="#sampling-distribution"><span class="header-section-number">10.2.1</span> Sampling Distribution</a>
  <ul class="collapse">
  <li><a href="#details-standard-errors" id="toc-details-standard-errors" class="nav-link" data-scroll-target="#details-standard-errors"><span class="header-section-number">10.2.1.1</span> Details: Standard Errors</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#z-scores-and-p-values" id="toc-z-scores-and-p-values" class="nav-link" data-scroll-target="#z-scores-and-p-values"><span class="header-section-number">10.3</span> Z-scores and p-values</a>
  <ul>
  <li><a href="#relationship-to-confidence-intervals" id="toc-relationship-to-confidence-intervals" class="nav-link" data-scroll-target="#relationship-to-confidence-intervals"><span class="header-section-number">10.3.1</span> Relationship to Confidence Intervals</a></li>
  </ul></li>
  <li><a href="#wrapping-up-the-process" id="toc-wrapping-up-the-process" class="nav-link" data-scroll-target="#wrapping-up-the-process"><span class="header-section-number">10.4</span> Wrapping up the Process</a></li>
  <li><a href="#application-health-savings-study" id="toc-application-health-savings-study" class="nav-link" data-scroll-target="#application-health-savings-study"><span class="header-section-number">10.5</span> Application: Health Savings Study</a></li>
  <li><a href="#example-estimate-of-difference-in-means" id="toc-example-estimate-of-difference-in-means" class="nav-link" data-scroll-target="#example-estimate-of-difference-in-means"><span class="header-section-number">10.6</span> Example: Estimate of Difference in Means</a></li>
  <li><a href="#additional-applications" id="toc-additional-applications" class="nav-link" data-scroll-target="#additional-applications"><span class="header-section-number">10.7</span> Additional Applications</a>
  <ul>
  <li><a href="#example-using-regression" id="toc-example-using-regression" class="nav-link" data-scroll-target="#example-using-regression"><span class="header-section-number">10.7.1</span> Example Using Regression</a></li>
  <li><a href="#example-using-prop.test" id="toc-example-using-prop.test" class="nav-link" data-scroll-target="#example-using-prop.test"><span class="header-section-number">10.7.2</span> Example Using prop.test()</a></li>
  </ul></li>
  <li><a href="#in-class-exercise-questions" id="toc-in-class-exercise-questions" class="nav-link" data-scroll-target="#in-class-exercise-questions"><span class="header-section-number">10.8</span> In-Class Exercise Questions</a></li>
  </ul>
</nav>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar zindex-bottom">
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span id="uncertainty" class="quarto-section-identifier"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Uncertainty</span></span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p>In this section, we bring in some statistical concepts of uncertainty in data analysis.</p>
<p>Throughout the course, we have come up with estimates:</p>
<ul>
<li><p>Are perceived black job applicants less likely to receive call backs for interviews than applicants perceived as white?</p></li>
<li><p>Are job applicants with criminal records less likely to receive call backs for interviews than applicants without criminal records?</p></li>
<li><p>Are higher levels of education associated with lower levels of tolerance toward domestic violence?</p>
<p>Do wind turbines cause backlash in voting behavior?</p></li>
</ul>
<p>Each time, we come up with a positive or negative number to summarize the effect. But when should we consider it a reliable effect or big effect? By what criteria? That’s where we are going now.</p>
<section id="hypothesis-testing-overview-of-process" class="level2" data-number="10.1">
<h2 data-number="10.1" class="anchored" data-anchor-id="hypothesis-testing-overview-of-process"><span class="header-section-number">10.1</span> Hypothesis Testing Overview of Process</h2>
<p>Process for Hypothesis Testing</p>
<ol type="1">
<li>Start with a research question: Are job applicants with criminal records less likely to receive call backs for interviews than applicants without criminal records?</li>
<li>Develop a theory of how the world works
<ul>
<li>E.g., “Job prospects are, in part, a function of someone’s criminal record.”</li>
</ul></li>
<li>Construct “null” and “alternative” hypotheses
<ul>
<li>E.g., <span class="math inline">\(H_o\)</span>: “Applicants with a criminal record will receive call backs at similar rates as those without a criminal record” (I.e., no difference)</li>
<li>E.g., <span class="math inline">\(H_A\)</span>: “Applicants with a criminal record will be less likely to receive call backs than those without a criminal record” or “Applicants with a criminal record will receive call backs at different rates than those without a criminal record” (I.e., some nonzero difference)</li>
</ul></li>
</ol>
<p><strong><em>Example of Implied Framework</em></strong></p>
<p>Health Savings Experiment (Dupas and Robinson 2013): Researchers conducted a field experiment in rural Kenya in which they randomly varied access to four innovative saving technologies and observed the impact on asset accumulation. Participants who were given a box locked with a padlock and key saved about 150 Kenyan Shillings more after 12 months relative to those who were simply encouraged to save money for health. Did the lock box work?</p>
<ul>
<li>What are the implied null and alternative hypotheses?</li>
</ul>
<p>Process for Hypothesis Testing</p>
<ol start="4" type="1">
<li>Carry out a test of the hypothesis, such as a difference-in-means.
<ul>
<li>Applicants with a criminal record receive 12.5 percentage points fewer call backs than those without a criminal record</li>
</ul></li>
<li>Calculate the uncertainty around this estimate.</li>
<li>Decide whether you can reject or fail to reject the hypothesis of no difference</li>
</ol>
</section>
<section id="sampling-and-uncertainty" class="level2" data-number="10.2">
<h2 data-number="10.2" class="anchored" data-anchor-id="sampling-and-uncertainty"><span class="header-section-number">10.2</span> Sampling and Uncertainty</h2>
<p>Flip a coin 10 times <a href="https://flipsimu.com/">here</a>. Report how many times it lands on heads.</p>
<ul>
<li>Imagine repeating this process over and over again.</li>
<li>We know that a fair coin should land on heads 50% of the time- 5 out of 10 times or 50 out of 100 times.</li>
<li>However, in any given sample of coin flips, you might get a slightly different result. If you repeated the sample a bunch of times, sometimes you might get 4 heads, 5 heads, 6 heads, 3 heads, etc.</li>
</ul>
<p>This does not mean the coin is unfair. Instead, just due to chance, we ended up with 6 out of 10 heads in a world where the true proportion of times that coin would land on heads is .5.</p>
<p>How much evidence would we need to reject the idea that the coin is unfair? What if we got 90 heads out of 100 coin flips? Would that be enough to make us skeptical of the coin?</p>
<ul>
<li>This is the idea of null hypothesis testing. We gather evidence and make a judgment about whether we can reject a null hypothesis. How likely would it be that by chance we could flip 90 heads in a world where that coin was actually fair?
<ul>
<li>For example, when we find a relationship between two variables (e.g., a correlation, a difference-in-means, a regression coefficient), this could be due to chance in a single sample.</li>
</ul></li>
</ul>
<p>When we conduct an experiment and find that applicants with a criminal record were called back 12.5 percentage points less often than those without a criminal record, we want to know…</p>
<ul>
<li>Is that a real difference, or is the real difference 0, and we just happened to get our 12.5-point difference in our sample due to chance?</li>
</ul>
<p>In statistical hypothesis testing, what we will try to do is quantify how likely it is that we could observe a difference as big as 12.5 in a given sample if, in fact, the real difference is 0. We want to be able to make a judgment about how likely the relationship we observed in a sample of applications/hiring decisions could exist in a world where criminal records really have no impact on job prospects.</p>
<p>We are going to use this example help us break down a few concepts.</p>
<section id="sampling-distribution" class="level3" data-number="10.2.1">
<h3 data-number="10.2.1" class="anchored" data-anchor-id="sampling-distribution"><span class="header-section-number">10.2.1</span> Sampling Distribution</h3>
<p>The number of heads you generate over repeated samples is the “sampling distribution.”</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="10-Uncertainty_files/figure-html/unnamed-chunk-1-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>The higher the curve, the more likely we would observe that number of heads. For example, if you flip a coin 100 times, it is likely you will get close to 50 heads (50%), and very unlikely you will flip more than 80 heads (80% heads).</p>
<ul>
<li>So if you flip a coin and get 55 heads, we might still think the coin is fair, but once you start moving to the tails of this curve . . .</li>
<li>It is highly unlikely we could flip a coin 100 times and get 80 heads just by random chance i.e., if the coin were fair.</li>
<li>The “bell” shape of this distribution isn’t an anomaly. The “Central Limit Theorem” tells us that over repeated samples (so long as your sample is sufficiently large), the distribution of “means” will be normal
<ul>
<li>This is incredibly important because we know a lot about normal distributions, such as that 95% of the sample mean estimates fall within two (technically: 1.96) standard errors of the mean.</li>
<li>Only if we observe a number of heads outside those lines would we think perhaps it is not a fair coin.</li>
</ul></li>
</ul>
<p>Let’s now imagine our study on criminal records and job prospects. <strong><em>In a world where the true difference in call back rates between those with and without criminal records is 0</em></strong>, in any given sample, we might end up with a 3 percentage point difference, -5 percentage point difference, 2 point difference, -1 point difference, and so on.</p>
<ul>
<li>The shape of the bell curve would be centered on 0 difference (Central Limit Theorem), meaning on average, over repeated samples of applicants/hiring decisions, there would be 0 difference, but occasionally we would still find some differences across samples.</li>
<li>What we want to know is if a 12.5 point difference is within two standard errors of 0 or if it is pretty unusual. (Is it more like 55 heads or 80 heads?)</li>
</ul>
<section id="details-standard-errors" class="level4" data-number="10.2.1.1">
<h4 data-number="10.2.1.1" class="anchored" data-anchor-id="details-standard-errors"><span class="header-section-number">10.2.1.1</span> Details: Standard Errors</h4>
<p>A standard error is the standard deviation of the sampling distribution</p>
<ul>
<li>Where a standard deviation is the typical distance between a given observation and the mean.</li>
<li>Compare the two photos below showing 0 standard deviation vs.&nbsp;a large standard deviation</li>
</ul>
<p><img src="images/spread1.png" class="img-fluid" style="width:40.0%"> <img src="images/spread2.jpg" class="img-fluid" style="width:42.0%"></p>
<p><em>From the Cartoon Guide to Statistics</em></p>
<p>In real life studies, we don’t know the actual sampling distribution because we only have 1 sample (we only had one study of applications/hiring decisions).</p>
<p>So we estimate our standard error using the standard deviation of our sample (<span class="math inline">\(S\)</span>) and sample size (<span class="math inline">\(N\)</span>).</p>
<p><span class="math inline">\({\hat {SE}} = \frac{S}{\sqrt{N}}\)</span></p>
<p>The bigger the sample, the SMALLER the standard error (which is good) because it means less uncertainty.</p>
</section>
</section>
</section>
<section id="z-scores-and-p-values" class="level2" data-number="10.3">
<h2 data-number="10.3" class="anchored" data-anchor-id="z-scores-and-p-values"><span class="header-section-number">10.3</span> Z-scores and p-values</h2>
<p>Recall the Overview of Hypothesis Testing. Now, we are going to add details to help us make a final decision about the null hypothesis.</p>
<ol start="4" type="1">
<li>Carry out a test of the hypothesis, such as a difference-in-means.
<ul>
<li>Applicants with a criminal record receive 12.5 percentage points fewer call backs than those without a criminal record</li>
</ul></li>
<li>Calculate the uncertainty around this estimate.
<ul>
<li>We will estimate the standard error of the estimate using the sample size and sample spread (standard deviation)</li>
<li>We can also estimate the confidence intervals</li>
</ul></li>
<li>Decide whether you can reject or fail to reject the hypothesis of no difference
<ul>
<li>Standarize the estimate and find the z-score (or t-statistic, which is similar)
<ul>
<li>The z score is an example of a “test statistic.” The type of statistic might vary across applications, but its purpose will remain similar. Others include t-statistics and Chi-squared statistics.</li>
</ul></li>
<li>How likely is it you would observe the z-score you found under this null distribution? (p-value)</li>
<li>If the p-value is small (<span class="math inline">\(&lt; 0.05\)</span>), reject the null.</li>
</ul></li>
</ol>
<p>A z-score helps us standardize the size of estimates across any units of study by quantifying the size of the estimate in terms of standard errors.</p>
<p>z-score = <span class="math inline">\(\frac{\text{Estimate - Null}}{\hat{SE}} = \frac{\text{Estimate - 0}}{\hat{SE}}\)</span></p>
<p>The z-score represents a ratio of the estimate over the standard errors. We can visualize the distribution of z-scores in the image below.</p>
<p><img src="images/zscore.png" class="img-fluid"></p>
<p>The bell curve is centered on 0 and represents our null distribution.</p>
<ul>
<li>Instead of the axis being the number of heads out of 100 coin flips, centered on the null hypothesis of 50 heads for a fair coin, the standardized scale is centered on 0. We can then visualize how far 80 coin flips is away from 50 in terms of standard errors.</li>
</ul>
<p>Recall, we asked: When we conduct an experiment and find that applicants with a criminal record were called back 12.5 percentage points less often than those without a criminal record, we want to know…</p>
<ul>
<li>Is that a real difference, or is the real difference 0, and we just happened to get our 12.5-point difference in our sample due to random chance?</li>
</ul>
<p>It so happens that our 12.5 percentage difference represents more than z=7.</p>
<p>We can visualize where z=7 is in our distribution below with the dashed purple line:</p>
<p><img src="images/zscore2.png" class="img-fluid"></p>
<p>It is well outside of the red lines representing 1.96 standard errors.</p>
<p>Interpretation: It is really unlikely we would have observed this extreme in magnitude of difference if the true difference were 0.</p>
<ul>
<li>This likelihood represents the p-value, which is essentially 0 in this case. There is essentially 0 chance we would have observed a difference as large or larger than 12.5 (or -12.5) in a world where the true difference is 0.</li>
<li>If a p-value is &lt; 0.05, we reject the null hypothesis.</li>
<li>If instead, the p-value is larger than 0.05, we fail to reject the null. That would mean that we think it is reasonably possible to have observed a difference as big as 12.5 if in fact the true difference is 0.</li>
</ul>
<p>We are going to focus on two-sided p-values, which focus on the magnitude of the z-score in either direction, instead of whether it is a positive or negative p-value. In other classes, you may also cover one-sided p-values.</p>
<section id="relationship-to-confidence-intervals" class="level3" data-number="10.3.1">
<h3 data-number="10.3.1" class="anchored" data-anchor-id="relationship-to-confidence-intervals"><span class="header-section-number">10.3.1</span> Relationship to Confidence Intervals</h3>
<p>Relationship to Confidence Intervals: Our 12.5 percentage difference has a 95% confidence interval of 6.8 to 18.3</p>
<ul>
<li>It is constructed by taking <span class="math inline">\(12.5 - 1.96*SE\)</span> and <span class="math inline">\(12.5 + 1.96*SE\)</span></li>
<li>This means there is a 95% chance that this interval contains the true population difference.</li>
</ul>
<p>It gives us another way of describing our estimate that includes our uncertainty. We recognize that over repeated samples, we are not always going to get a 12.5 point difference. In any given sample, this estimate will differ a bit over the “sampling distribution.”</p>
</section>
</section>
<section id="wrapping-up-the-process" class="level2" data-number="10.4">
<h2 data-number="10.4" class="anchored" data-anchor-id="wrapping-up-the-process"><span class="header-section-number">10.4</span> Wrapping up the Process</h2>
<p>Let’s Review the Process</p>
<ol type="1">
<li>Start with a research question: Are job applicants with criminal records less likely to receive call backs for interviews than applicants without criminal records?</li>
<li>Develop a theory of how the world works
<ul>
<li>E.g., “Job prospects are, in part, a function of someone’s criminal record.”</li>
</ul></li>
<li>Construct “null” and “alternative” hypotheses
<ul>
<li>E.g., <span class="math inline">\(H_o\)</span>: “Applicants with a criminal record will receive call backs at similar rates as those without a criminal record” (I.e., no difference)</li>
<li>E.g., <span class="math inline">\(H_A\)</span>: “Applicants with a criminal record will be less likely to receive call backs than those without a criminal record” or “Applicants with a criminal record will receive call backs at different rates than those without a criminal record” (I.e., some nonzero difference)</li>
</ul></li>
<li>Carry out a test of the hypothesis, such as a difference-in-means.
<ul>
<li>Applicants with a criminal record receive 12.5 percentage points fewer call backs than those without a criminal record</li>
</ul></li>
<li>Calculate the uncertainty around this estimate.
<ul>
<li>We could estimate the standard error with the sample standard deviation and sample size</li>
<li>We could also estimate the confidence intervals.</li>
</ul></li>
<li>Decide whether the result is significant. Can you reject or do you fail to reject the hypothesis of no difference?
<ul>
<li>Use the z-score/t-statistic and p-value</li>
<li>The z score is an example of a “test statistic.” The type of statistic might vary across applications, but its purpose will remain similar. Others include t-statistics and Chi-squared statistics.</li>
</ul></li>
</ol>
</section>
<section id="application-health-savings-study" class="level2" data-number="10.5">
<h2 data-number="10.5" class="anchored" data-anchor-id="application-health-savings-study"><span class="header-section-number">10.5</span> Application: Health Savings Study</h2>
<p><em>For a video explainer of the code in this section, see below. (Via youtube, you can speed up the playback to 1.5 or 2x speed.)</em></p>
<div class="quarto-video ratio ratio-16x9"><iframe data-external="1" src="https://www.youtube.com/embed/kJlonC8AI6w" title="" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></div>
<p>Health Savings Experiment (Dupas and Robinson 2013): Field experiment in rural Kenya in which they randomly varied access to four innovative saving technologies and observed the impact on asset accumulation.</p>
<p><strong><em>1. Start with a research question</em></strong></p>
<p>Can savings technologies help people accumulate assets?</p>
<p><strong><em>2. Develop a theory of how the world works</em></strong></p>
<p>Providing people with a safe place to store money will help them save.</p>
<p><strong><em>3. Construct “null” and “alternative” hypotheses</em></strong></p>
<p>What are our null/alternative hypotheses?</p>
<p><strong><em>4. Carry out a test of the hypothesis, such as a difference-in-means.</em></strong></p>
<ul>
<li>Individuals in all study arms were encouraged to save for health and were asked to set a health goal for themselves at the beginning of the study.<br>
</li>
<li>In the first treatment group (Safe Box), respondents were given a box locked with a padlock and the key</li>
<li>The dependent variable is the amount saved after 12 months <code>fol2_amtinvest</code></li>
</ul>
<p>We will compare average savings between treatment conditions (a difference in means).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>rosca <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"https://raw.githubusercontent.com/ktmccabe/teachingdata/main/rosca.csv"</span>,</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>                  <span class="at">stringsAsFactors =</span> T)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>To practice creating variables, we can create a column that focuses on just the comparison between those with a Safe Box and those with just an Encouragement.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Create variable for comparison</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>rosca<span class="sc">$</span>safeboxvsencouragement <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>rosca<span class="sc">$</span>safeboxvsencouragement[rosca<span class="sc">$</span>safe_box <span class="sc">==</span> <span class="dv">1</span>] <span class="ot">&lt;-</span> <span class="st">"Safe Box"</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>rosca<span class="sc">$</span>safeboxvsencouragement[rosca<span class="sc">$</span>encouragement <span class="sc">==</span> <span class="dv">1</span>] <span class="ot">&lt;-</span> <span class="st">"Encouragement"</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="do">## Subset to two groups</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>comparison <span class="ot">&lt;-</span> <span class="fu">subset</span>(rosca, safeboxvsencouragement <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Safe Box"</span>,</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>                                                          <span class="st">"Encouragement"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>We can then calculate the difference in means between these groups on the amount invested.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Compare means</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>mean.safebox <span class="ot">&lt;-</span> <span class="fu">mean</span>(comparison<span class="sc">$</span>fol2_amtinvest[comparison<span class="sc">$</span>safeboxvsencouragement <span class="sc">==</span> <span class="st">"Safe Box"</span>], <span class="at">na.rm=</span>T)</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>mean.safebox</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 408.215</code></pre>
</div>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>mean.encouragement <span class="ot">&lt;-</span> <span class="fu">mean</span>(comparison<span class="sc">$</span>fol2_amtinvest[comparison<span class="sc">$</span>safeboxvsencouragement <span class="sc">==</span> <span class="st">"Encouragement"</span>],   <span class="at">na.rm=</span>T)</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>mean.encouragement</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 257.8333</code></pre>
</div>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>diff.means <span class="ot">&lt;-</span> mean.safebox <span class="sc">-</span> mean.encouragement</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>diff.means</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 150.3816</code></pre>
</div>
</div>
</section>
<section id="example-estimate-of-difference-in-means" class="level2" data-number="10.6">
<h2 data-number="10.6" class="anchored" data-anchor-id="example-estimate-of-difference-in-means"><span class="header-section-number">10.6</span> Example: Estimate of Difference in Means</h2>
<p>To get uncertainty when calculating a difference in means, we can use the {} function in R.</p>
<p><strong><em>5. Calculate the uncertainty around this estimate.</em></strong></p>
<p>To get uncertainty when calculating a difference in means, we can use the <code>t.test</code> function in R.</p>
<p>To get the t-statistic, underneath the hood of the function, R is estimating the standard error by calculating the standard deviation in the sample and the sample size (the number of people in each condition).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Compare amount saved for those in Safe Box vs. </span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="do">## Encouragement Only conditions</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>test <span class="ot">&lt;-</span> <span class="fu">t.test</span>(fol2_amtinvest <span class="sc">~</span> safeboxvsencouragement, <span class="at">data=</span> comparison)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>test</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><strong><em>6. Decide whether you can reject or fail to reject the hypothesis of no difference</em></strong></p>
<p>We can extract the group means, the p-value of the difference and confidence interval of the difference.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>test<span class="sc">$</span>estimate</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>mean in group Encouragement      mean in group Safe Box 
                   257.8333                    408.2150 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>test<span class="sc">$</span>conf.int</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] -291.317636   -9.445604
attr(,"conf.level")
[1] 0.95</code></pre>
</div>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>test<span class="sc">$</span>p.value</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.03666403</code></pre>
</div>
</div>
<p>Was the treatment significant? We say something is significant if the p-value is small, such as less than 0.05. We also use this criteria to assess if we should reject the null hypothesis.</p>
<ul>
<li>In a “t test”, the t-statistic serves as the z-score. It is also a ratio of standard errors. The t-statistic and z-scores differ slightly in how we calculate the corresponding p-value, but with a large enough sample size, these are also very similar. The <code>t.test</code> function in R calculates the p-value for you.</li>
</ul>
</section>
<section id="additional-applications" class="level2" data-number="10.7">
<h2 data-number="10.7" class="anchored" data-anchor-id="additional-applications"><span class="header-section-number">10.7</span> Additional Applications</h2>
<p>We will carry out the same type of hypothesis testing process for a range of different scenarios. Though the process will remain very similar, the underlying statistical test/calculation/R function will change.</p>
<ul>
<li>If dependent variable is numeric / continuous, can use regression and <code>lm()</code> (type of independent variable does not matter)</li>
<li>If dependent variable is numeric and want to compare between two specific groups, can use <code>t.test()</code></li>
<li>If dependent variable is binary, such as assessing the proportion of call back rates, and want to compare between two specific groups, can use <code>prop.test()</code></li>
</ul>
<p>Other tests exist for different situations</p>
<section id="example-using-regression" class="level3" data-number="10.7.1">
<h3 data-number="10.7.1" class="anchored" data-anchor-id="example-using-regression"><span class="header-section-number">10.7.1</span> Example Using Regression</h3>
<p><strong><em>1. Start with a research question</em></strong></p>
<p>Do past election results help explain future election results?</p>
<p><strong><em>2. Develop a theory of how the world works</em></strong></p>
<p>A third-party candidate’s performance in one election will help us predict the success of a future third-party candidate.</p>
<p><strong><em>3. Construct “null” and “alternative” hypotheses and 4. Carry out a test of the hypothesis, such as a regression.</em></strong></p>
<p>In a regression, our key hypothesis test is about whether there is a significant, non-zero relationship between an independent variable and the outcome.</p>
<ul>
<li>The null hypothesis is that <span class="math inline">\(\beta = 0\)</span>. The alternative is that <span class="math inline">\(\beta \neq 0\)</span>.</li>
</ul>
<p>Going back to our Florida example: The null hypothesis would be the 1996 Perot vote does not help us explain the Buchanan 2000 vote (that <span class="math inline">\(\beta = 0\)</span>). Our alternative is <span class="math inline">\(\beta \neq 0\)</span>, that there is some relationship between 1996 Perot votes and the 2000 Buchanan vote in Florida counties.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>florida <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"https://raw.githubusercontent.com/ktmccabe/teachingdata/main/florida.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>We estimate <span class="math inline">\(\hat \beta\)</span>: for every 1 additional vote Perot received in 1996, we expect Buchanan to receive .036 additional votes in 2000.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>fit <span class="ot">&lt;-</span> <span class="fu">lm</span>(Buchanan00 <span class="sc">~</span> Perot96, <span class="at">data =</span> florida)</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="fu">coef</span>(fit)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>(Intercept)     Perot96 
 1.34575212  0.03591504 </code></pre>
</div>
</div>
<p>Is that relationship significant? In other words, is it helpful to know the Perot 1996 vote to help explain the Buchanan 2000 vote? Or should we treat the 0.036 number as essentially 0, just noise?</p>
<p>Recall that the <span class="math inline">\(\hat \beta\)</span> represents the estimated slope of the relationship.</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="10-Uncertainty_files/figure-html/unnamed-chunk-10-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>We ask: Is that relationship (the slope) significant (i.e., statistically different from 0 slope)?</p>
<p><strong><em>5. Calculate the uncertainty around this estimate.</em></strong></p>
<p>Our regression <code>lm</code> function will also generate estimates of uncertainty related to hypothesis testing</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="fu">round</span>(<span class="fu">summary</span>(fit)<span class="sc">$</span>coefficients, <span class="at">digits=</span><span class="dv">4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>            Estimate Std. Error t value Pr(&gt;|t|)
(Intercept)   1.3458    49.7593  0.0270   0.9785
Perot96       0.0359     0.0043  8.2752   0.0000</code></pre>
</div>
</div>
<p><strong><em>6. Decide whether you can reject or fail to reject the hypothesis of no difference</em></strong></p>
<p>We see the p-value for Perot96 is essentially 0– well less than 0.05. Therefore, it is highly unlikely we would observe a slope as big or bigger (in magnitude) as 0.0359 if Perot96 and Buchanan00 were actually unrelated.</p>
<ul>
<li>We consider the effect “statistically significant.”</li>
<li>We reject a null hypothesis that the Perot 1996 vote is unrelated to the Buchanan 2000 vote.</li>
</ul>
<p>In social science papers, regressions are often presented in tables:</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>
=======================
             Model 1   
-----------------------
(Intercept)    1.35    
             (49.76)   
Perot96        0.04 ***
              (0.00)   
-----------------------
R^2            0.51    
Adj. R^2       0.51    
Num. obs.     67       
=======================
*** p &lt; 0.001; ** p &lt; 0.01; * p &lt; 0.05</code></pre>
</div>
</div>
</section>
<section id="example-using-prop.test" class="level3" data-number="10.7.2">
<h3 data-number="10.7.2" class="anchored" data-anchor-id="example-using-prop.test"><span class="header-section-number">10.7.2</span> Example Using prop.test()</h3>
<p>Sometimes our outcomes are 0 vs.&nbsp;1 variables, which become proportions when we take the mean()</p>
<ul>
<li>For example, applicants who get a call back vs.&nbsp;do not</li>
<li>For example, voters who turn out to vote vs.&nbsp;do not</li>
</ul>
<p>When you have this type of outcome variable, you may want to use a test designed specifically for testing the differences in proportions of two groups.</p>
<p>Experimental Example: Going Back to Resume and Race study</p>
<p><strong><em>1. Start with a research question</em></strong></p>
<p>Does race influence hiring decisions?</p>
<p><strong><em>2. Develop a theory of how the world works</em></strong></p>
<p>Theory: Black applicants face discrimination in hiring.</p>
<p><strong><em>3. Construct “null” and “alternative” hypotheses</em></strong></p>
<p>We can conduct a two-sided hypothesis test</p>
<ul>
<li><span class="math inline">\(H_o\)</span>: No difference in call back rates for Black and white applicants</li>
<li><span class="math inline">\(H_a\)</span>: Some difference in call back rates for Black and white applicants</li>
</ul>
<p>The two-sided means we aren’t specifying a direction of our alternative hypothesis. Instead, we are conducting test just trying to reject the idea of no difference between racial groups. Sometimes researchers may specify the alternative hypothesis in a directional way, such as Black applicants will have a lower call back rate than white applicants. However, it is more common to use a two-sided test, even if researchers have a theoretical hypothesis in a particular direction.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>resume <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"https://raw.githubusercontent.com/ktmccabe/teachingdata/main/resume.csv"</span>)</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(resume)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  firstname    sex  race call
1   Allison female white    0
2   Kristen female white    0
3   Lakisha female black    0
4   Latonya female black    0
5    Carrie female white    0
6       Jay   male white    0</code></pre>
</div>
</div>
<p><strong><em>4. Carry out a test of the hypothesis, such as a test of proportions.</em></strong></p>
<p>Does being black (vs.&nbsp;white) decrease call backs?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(resume<span class="sc">$</span>race, resume<span class="sc">$</span>call)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>       
           0    1
  black 2278  157
  white 2200  235</code></pre>
</div>
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>test <span class="ot">&lt;-</span> <span class="fu">prop.test</span>(<span class="at">x=</span><span class="fu">c</span>(<span class="dv">157</span>, <span class="dv">235</span>), <span class="at">n=</span><span class="fu">c</span>(<span class="dv">157</span><span class="sc">+</span><span class="dv">2278</span>, <span class="dv">235</span><span class="sc">+</span><span class="dv">2200</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li>The <code>prop.test()</code> function includes 4 inputs</li>
<li>The number of 1’s from the first group, the number of 1’s in the second group <code>c(n1, n2)</code></li>
<li>The total observations from the first group, the total observations in the second group <code>c(total1, total2)</code></li>
</ul>
<p><strong><em>5. Calculate the uncertainty around this estimate.</em></strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>test</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
    2-sample test for equality of proportions with continuity correction

data:  c(157, 235) out of c(157 + 2278, 235 + 2200)
X-squared = 16.449, df = 1, p-value = 4.998e-05
alternative hypothesis: two.sided
95 percent confidence interval:
 -0.04769866 -0.01636705
sample estimates:
    prop 1     prop 2 
0.06447639 0.09650924 </code></pre>
</div>
</div>
<p>You can extract the p.value for the difference in proportions and confidence interval</p>
<p><strong><em>6. Decide whether you can reject or fail to reject the hypothesis of no difference</em></strong></p>
<p>In the <code>prop.test</code> function, you see a X-squared statistic. You can treat this like the z-score. When you are doing a test of two groups, the X-squared is essentially the z-score squared. The X-squared refers to a Chi-squared test. In our case, the equivalent z-score would be about 4– well more than our threshold of about 2.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="fu">round</span>(test<span class="sc">$</span>p.value, <span class="at">digits=</span><span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0</code></pre>
</div>
</div>
<p>What do you conclude about the hypothesis? Is it significant?</p>
</section>
</section>
<section id="in-class-exercise-questions" class="level2" data-number="10.8">
<h2 data-number="10.8" class="anchored" data-anchor-id="in-class-exercise-questions"><span class="header-section-number">10.8</span> In-Class Exercise Questions</h2>
<p>Do negative ads increase voter turnout? In an experiment, suppose researchers found that a negative political ad intending to make voters angry toward the opposing candidate increased voter turnout by 5 percentage points relative to a control condition in which a non-political ad was shown. The difference between treatment and control had a p-value of 0.25, and the confidence interval was -1 to 11 percentage points.</p>
<ol type="1">
<li>What are the implied null and alternative hypotheses?</li>
<li>What is the difference in voter turnout between the groups?</li>
<li>What do you conclude about the results? Is it significant? Do you reject or fail to reject the null hypothesis?</li>
<li>How do you interpret the p-value?</li>
</ol>
<p>If we imagine that we could conduct the negative advertising study over and over again, estimating voter turnout each time. The set of estimates of voter turnout across these hypothetical studies would be called the (circle one):</p>
<ol type="A">
<li>Standard error</li>
<li>Sampling distribution</li>
<li>Confidence Interval</li>
<li>Standard deviation</li>
</ol>
<p>Are natural resources like oil negatively related to how democratic a country is? In a study, researchers looked at the correlation between the amount of oil available to a country and how democratic the country is according to expert ratings of democracy. The researchers ran a regression analysis and found that for every one-unit increase in the amount of oil a country has, the country has a b=.3 decrease in its democracy rating. The standard error of the coefficient is se = 0.05. The t-statistic is 6, with a p-value &lt; 0.001.</p>
<ol type="1">
<li>What are the implied null and alternative hypotheses?</li>
<li>What do you conclude about the results? Is it significant? Do you reject or fail to reject the null hypothesis?</li>
</ol>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./09-Fairness.html" class="pagination-link" aria-label="Fairness and Ethics">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Fairness and Ethics</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./11-TextasData.html" class="pagination-link" aria-label="Text as Data">
        <span class="nav-page-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Text as Data</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




</body></html>